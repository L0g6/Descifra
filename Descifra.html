<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Descifrador de Texto Personalizado</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
        }
        input, textarea, button {
            display: block;
            margin: 10px 0;
            padding: 10px;
            font-size: 16px;
        }
        .number-values, .decodings {
            display: flex;
            flex-direction: column;
        }
        .number-values div, .decodings div {
            margin: 5px 0;
        }
        .number-values select {
            width: 50px;
            text-align: center;
        }
    </style>
</head>
<body>
    <h1>Descifrador de Texto Personalizado</h1>

    <label for="inputText">Ingrese el texto cifrado:</label>
    <textarea id="inputText" rows="5" cols="50"></textarea>

    <div class="decodings">
        <div>
            <h3>Suposición 1</h3>
            <div class="number-values" id="sup1">
                <script>generateInputs('sup1');</script>
            </div>
            <button onclick="descifrarTexto(1)">Descifrar Suposición 1</button>
            <textarea id="outputText1" rows="5" cols="50" readonly></textarea>
        </div>
        <div>
            <h3>Suposición 2</h3>
            <div class="number-values" id="sup2">
                <script>generateInputs('sup2');</script>
            </div>
            <button onclick="descifrarTexto(2)">Descifrar Suposición 2</button>
            <textarea id="outputText2" rows="5" cols="50" readonly></textarea>
        </div>
        <div>
            <h3>Suposición 3</h3>
            <div class="number-values" id="sup3">
                <script>generateInputs('sup3');</script>
            </div>
            <button onclick="descifrarTexto(3)">Descifrar Suposición 3</button>
            <textarea id="outputText3" rows="5" cols="50" readonly></textarea>
        </div>
    </div>

    <script>
        const letras = 'abcdefghijklmnñopqrstuvwxyz';

        function generateInputs(id) {
            for (let i = 1; i <= 27; i++) {
                document.getElementById(id).innerHTML += `<div><label>${i}: <select id="${id}_value_${i}">${generateOptions()}</select></label></div>`;
            }
        }

        function generateOptions() {
            let options = '<option value=""></option>';
            letras.split('').forEach(letra => {
                options += `<option value="${letra}">${letra}</option>`;
            });
            return options;
        }

        function descifrarTexto(suposicion) {
            const inputText = document.getElementById('inputText').value.trim();
            const words = inputText.split('  ');
            const outputWords = words.map(word => {
                const chars = word.split(' ');
                return chars.map(num => numeroALetra(num, suposicion)).join('');
            });
            const outputText = outputWords.join(' ');
            document.getElementById(`outputText${suposicion}`).value = outputText;
        }

        function numeroALetra(num, suposicion) {
            const select = document.getElementById(`sup${suposicion}_value_${num}`);
            if (select) {
                return select.value || num;
            }
            return num;
        }

        document.addEventListener('DOMContentLoaded', () => {
            generateInputs('sup1');
            generateInputs('sup2');
            generateInputs('sup3');
        });
    </script>
</body>
</html>
